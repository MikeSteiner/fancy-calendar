<div class="fc-container">
  <div class="fc-header">
    <fancy-calendar-calendar-title
      [displayDate]="displayDate"
      [locale]="locale"
    ></fancy-calendar-calendar-title>
    <fancy-calendar-calendar-month-navigation
      (prev)="onPreviousMonthClick()"
      (next)="onNextMonthClick()"
      (today)="onTodayClick()"
    ></fancy-calendar-calendar-month-navigation>
  </div>

  <fancy-calendar-calendar-days-of-week [locale]="locale"></fancy-calendar-calendar-days-of-week>

  <div class="fc-month-container">
    <ng-container *ngFor="let week of weeksInMonth">
      <ng-container *ngFor="let day of week.days">
        <!--          [events$]="getDayEvents(day.date)"-->
        <fancy-calendar-calendar-day-card
          [locale]="locale"
          [day]="day"
          [eventsLoading]="eventsLoading$ | async"
          (click)="onSelectDay(day)"
        ></fancy-calendar-calendar-day-card>
      </ng-container>
    </ng-container>
  </div>
</div>

<fancy-calendar-modal [id]="selectedDayModalId">
<!--  <fancy-calendar-calendar-day-details *ngIf="selectedDay"-->
<!--    [locale]="locale"-->
<!--    [day]="selectedDay"-->
<!--    [events]="getDayEvents(selectedDay.number) | async"-->
<!--  ></fancy-calendar-calendar-day-details>-->
  <fancy-calendar-calendar-day-details
    *ngIf="selectedDay"
    [locale]="locale"
    [day]="selectedDay"
  ></fancy-calendar-calendar-day-details>
  <button class="btn primary mt-1" (click)="closeModal()">Close</button>
</fancy-calendar-modal>
