<!--<div>{{ meetings$ | async | json }}</div>-->

<!--<button (click)="openModal('custom-modal-1')">Open Modal</button>-->
<!--<fancy-calendar-modal id="custom-modal-1">-->
<!--  <h1 style="height:500px">A Tall Custom Modal Window!</h1>-->
<!--  <button (click)="closeModal('custom-modal-1')">Close</button>-->
<!--</fancy-calendar-modal>-->
<section class="month-title-container">
  <span>{{ displayDate }}</span>
  <div class="month-navigation pt-1">
    <button (click)="onPrevMonthClick()">Previous</button>
    <button (click)="onTodayClick()">Today</button>
    <button (click)="onNextMonthClick()">Next</button>
  </div>
</section>

<div class="month-container pt-1">
  <div></div>
  <div *ngFor="let dayOfWeek of daysOfWeek" class="day-of-week">{{ dayOfWeek }}</div>
  <ng-container *ngFor="let week of weeksInMonth" class="week">
    <div>{{ week.number }}</div>
    <div
      class="day-box"
      *ngFor="let day of week.days"
      [class.is-today]="day.isToday"
      [class.is-weekend]="day.isWeekend"
    >
      <div>{{ day.number }}</div>
      <div>{{ day.date.getDate() + '. ' + day.date.toLocaleString('default', { month: 'long' }) + '. ' + day.date.getFullYear() }}</div>
      <div>{{ day.date.getUTCDay() }}:{{ day.isWeekend }}</div>
      <div class="day-events">
        <ul *ngIf="(loadMeetingsPerDay(day.number) | async) as meetingsPerDay">
          <button *ngIf="meetingsPerDay.length" (click)="openSelectedDayModal('selected-day-modal', day, meetingsPerDay)">Open</button>
          <li *ngFor="let meeting of meetingsPerDay">{{ meeting.name }}</li>
        </ul>
      </div>
    </div>
  </ng-container>
</div>

<fancy-calendar-modal id="selected-day-modal">
  <fancy-calendar-day-detail
    [day]="selectedDay"
    [meetings]="selectedDayMeetings"
  ></fancy-calendar-day-detail>
  <button class="mt-1" (click)="closeModal('selected-day-modal')">Close</button>
</fancy-calendar-modal>
